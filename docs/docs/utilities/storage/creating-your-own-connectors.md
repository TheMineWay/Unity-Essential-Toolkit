---
sidebar_position: 3
---

# Creating your own connectors

This package provides you some premade storage connectors, but you might want to create your own custom storage connectors. You can create your own connectors easily.

## 1. Create your connector script

Create a new `.cs` file. If you want to follow the official naming strategy you should name it `<<Custom-name>>StorageConnector.cs` (for example: `FancyStorageConnector.cs`, `AwesomeStorageConnector`, `SuperFantasticStorageConnector`).

## 2. Extend it with the `AStorageConnector` class

Extend your connector class with the `AStorageConnector` abstract class. It will require you to implement some methods.

### Example {#fancy-storage-connector-example}

```csharp
public class FancyStorageConnector : AStorageConnector
{
    public override void Write(string key, string value) => /* Write logic */;
    public override string ReadString(string key) => /* Read logic (be aware: you must return null if the value is not present) */;
    public override void Clear(string key) => /* Remove key logic */;
    public override bool HasKey(string key) => /* Keys check logic */;
}
```

### `InMemoryStorageConnector` as an example

```csharp
public class InMemoryStorageConnector : AStorageConnector
{
    private readonly Dictionary<string, string> mem = new();

    public override void Write(string key, string value) => mem[key] = value;
    public override string ReadString(string key) => HasKey(key) ? mem[key] : null; // We return null if the key is not present
    public override void Clear(string key) => mem.Remove(key);
    public override bool HasKey(string key) => mem.ContainsKey(key);
}
```

It stores data in a Dictionary and all methods create connections to this dictionary, so we are able to interact with it using connector methods.

## 3. Storing different datatypes

All storage connectors allow us to use different datatypes. You can perform specific datatype operations by using the corresponding method. For example: if you want to read a `float` value you should use the `ReadFloat` method (when writing, type is automatically inferred, so you would use `Write` as well).

In the [example](#fancy-storage-connector-example) you can see that only `string` methods are defined. This does not mean that you cannot use other datatypes, because the other methods are automatically generated by the `AStorageConnector` class. All other methods by default are extensions of the `string` methods (they perform I/O operations using the `string` methods and casting values to the desired datatype).

If you don't want the class to manage the other datatypes, you can override those methods. See here the list of methods that can be overrided.

<table>
  <tbody>
    <tr>
      <th>Read method</th>
      <th>Write method</th>
    </tr>
    <tr>
      <td>`string ReadString(string key)`</td>
      <td>`void Write(string key, string value)`</td>
    </tr>
    <tr>
      <td>`int ReadInt(string key)`</td>
      <td>`void Write(string key, int value)`</td>
    </tr>
    <tr>
      <td>`float ReadFloat(string key)`</td>
      <td>`void Write(string key, float value)`</td>
    </tr>
    <tr>
      <td>`bool ReadBool(string key)`</td>
      <td>`void Write(string key, bool value)`</td>
    </tr>
    <tr>
      <td>`T ReadObject<T>(string key) where T : class`</td>
      <td>`void WriteObject<T>(string key, T value) where T : class`</td>
    </tr>
  </tbody>
</table>

Currently the list of available datatypes is:

- `string`: simple text value.
- `int`: simple integer value.
- `float`: simple decimal value.
- `bool`: boolean value.
- `T (custom class)`: JSON data.
